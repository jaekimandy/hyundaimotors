import{a as U,b as B,r as F,A as D,f as h,o as A,c as P,h as n,u as e,j as o,C as N,k as d,l as k,m as X,p as u,q as m,s as f,t as s,Q as S,S as C,v as H,x as M,y as G,i as I}from"./entry.565e85f7.js";const O={class:"mb-3"},Q={class:"mb-3"},j={class:"mb-3"},q={class:"mb-3"},E={class:"mb-3"},J={class:"mb-3"},K={class:"mb-3"},Y={class:"mb-3"},Z={class:"mb-3"},$={class:"mb-3"},ee={class:"mb-3"},te={class:"d-grid gap-2 d-md-flex"},ae=U({__name:"new",props:{show:{type:Boolean,default:!1}},setup(w){const b=w,g=B(),L=F(!1);D(()=>b.show,r=>{r&&(L.value=r)});const _=["Front Left Wheel Center Force (Z)","swift@FrtLhWftFz.RN_7","Swift@FLWftFz.RN_1","Front Left Swift Force Fz(N)","FLWheelFz","WFT@FLFz.RN_11","WFT@FLFz.RN_1","FLWftFz","WFT@FLFz.RN_19","Transducers@FL_Fz.RN_17","DN8_RLDA@FL_Fz.RN_3","WFT@WFT_FL_Fz.RN_2","SWIFT@FLWftFz.RN_3","swift@FrtLhWftFz.RN_3","Swift@FLFz.RN_2","Swift@FLSwiftFz.RN_2","WFT@FLWftFz.RN_2","FL Fz","WFT@FLFz.RN_2","swift@FLFz.RN_4","WFT@WFT_FL_Fz.RN_15","Swift@FLSwifFz.RN_1","WFT@LR_Z_Force.RN_2","Swift_110@FrtLhWhlFz.RN_1","FL Swift Fz","swift@FLWftFz.RN_7","Swift@FLWftFz.RN_21"],i=h({xcSplitSelect:[{value:"4375,5750,1375,1188,1063,1188,1063,2000,4500,8001,16500",text:"구간1"},{value:"4438,5688,1438,1000,938,1063,938,2250,4563,7938,16563",text:"구간2"},{value:"5375,5625,1375,1000,1000,1125,1125,2125,4688,7813,16313",text:"구간3"},{value:"5879,6081,1465,1484,1473,1210,1421,3042,5103,7979,15834",text:"구간4"},{value:"5047,4704,1500,1383,1516,1274,1336,2875,5258,8501,16766",text:"구간5"},{value:"1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,11000",text:"테스트"}],carTypes:[{value:"AD",text:"AD"},{value:"BC3N",text:"BC3N"},{value:"DM",text:"DM"},{value:"DMc",text:"DMc"},{value:"HCi",text:"HCi"},{value:"HS",text:"HS"},{value:"HS4WD",text:"HS4WD"},{value:"IB",text:"IB"},{value:"JA",text:"JA"},{value:"K3",text:"K3"},{value:"LF",text:"LF"},{value:"LM",text:"LM"},{value:"MD",text:"MD"},{value:"MQ4",text:"MQ4"},{value:"NE",text:"NE"},{value:"NF",text:"NF"}],areas:[{value:"NPG",text:"NPG"}],weights:[{value:"2UP",text:"2UP"},{value:"3UP",text:"3UP"},{value:"4UP",text:"4UP"},{value:"GVW",text:"GVW"},{value:"4UP_40kg",text:"4UP_40kg"},{value:"5UP_40kg",text:"5UP_40kg"}],roadSurfaces:[{value:"BG",text:"BG"},{value:"DWAY",text:"City(DriveWay)"},{value:"FT",text:"City(FullTurn)"},{value:"GS",text:"City(Go&Stop)"},{value:"HANDLING",text:"City(Handling)"},{value:"POT20_BP",text:"City(Pothole&Bump)"},{value:"TS",text:"City(TwistSine)"},{value:"ABS",text:"City(ABS)"},{value:"BrokenAsphalt",text:"XC(BrokenAsphalt)"},{value:"Manhole",text:"XC(Manhole)"},{value:"CobbleStone",text:"XC(CobbleStone)"},{value:"ChatterStrip",text:"XC(ChatterStrip)"},{value:"ResonanceBump",text:"XC(ResonanceBump)"},{value:"WashBoard",text:"XC(WashBoard)"},{value:"SpotPatch",text:"XC(SpotPatch)"},{value:"ChuckHole",text:"XC(ChuckHole)"},{value:"Scurve",text:"XC(SCurve)"},{value:"AddAsphalt",text:"XC(AddAsphalt)"},{value:"BrokenAsphalt2",text:"XC(BrokenAsphalt2)"},{value:"Rest",text:"XC(Rest)"},{value:"OFFROAD",text:"OffRoad"},{value:"UPHILL",text:"UpHill"},{value:"DownHill",text:"downhill"}],chartCellNames:[],showXcSplitSelect:!1}),t=h({loading:!1,carType:"",area:"",year:"",roadSurface:"",weight:"",chartData:"",testCount:"",xcSplitRanges:[],chartCellName:""}),y=F(null),R=F(!1),V=()=>{g.back()},W=async()=>{if(!t.carType){alert("차종을 선택하셔야 합니다");return}if(!t.year){alert("년도를 입력하셔야 합니다");return}if(!t.area){alert("장소를 선택하셔야 합니다");return}if(!t.roadSurface){alert("노면을 선택하셔야 합니다");return}if(!t.weight){alert("중량을 선택하셔야 합니다");return}if(!t.testCount){alert("횟수를 입력 합니다");return}t.loading=!0;const{data:r}=await I({operation:"createAnalysisFile",variables:{chartCellName:t.chartCellName,carType:t.carType,year:t.year,area:t.area,roadSurface:t.roadSurface,weight:t.weight,chartData:t.chartData,testCount:t.testCount,xcSplitRange:t.xcSplitRanges.join(",")}}).finally(()=>{t.loading=!1});r.value&&await g.push("/analysis")},z=r=>{for(const a of _){const l=r.findIndex(p=>p===a);if(l!==-1)return l}},T=r=>{y.value=r.target.files[0],(l=>new Promise((p,c)=>{const x=new FileReader;x.onload=()=>p(x.result),x.onerror=c,x.readAsText(l)}))(y.value).then(l=>{t.chartData=l.toString().trim();const c=t.chartData.split(`
`)[2].split(","),x=z(c);x?t.chartCellName=c[x]:i.chartCellNames=c.filter(v=>v!==" ").map(v=>({text:v,value:v})),R.value=!0})};return(r,a)=>(A(),P(e(G),{class:"mb-4"},{default:n(()=>[o(e(k),null,{default:n(()=>[o(e(N),{size:"sm",onClick:V},{default:n(()=>[d("목록")]),_:1})]),_:1}),o(e(M),null,{default:n(()=>[o(e(X),null,{default:n(()=>[u("div",O,[o(e(m),{for:"cardTypes"},{default:n(()=>[d("차종")]),_:1}),o(e(f),{id:"cardTypes",options:e(i).carTypes,"options-style":"text",placeholder:"차종을 선택하세요",multiple:!1,onChange:a[0]||(a[0]=l=>{e(t).carType=l[0].value})},null,8,["options"])]),u("div",Q,[o(e(s),{modelValue:e(t).year,"onUpdate:modelValue":a[1]||(a[1]=l=>e(t).year=l),type:"text",label:"년도"},null,8,["modelValue"])]),u("div",j,[o(e(m),{for:"areas"},{default:n(()=>[d("장소")]),_:1}),o(e(f),{id:"areas",options:e(i).areas,"options-style":"text",placeholder:"장소를 선택하세요",multiple:!1,onChange:a[2]||(a[2]=l=>{e(t).area=l[0].value})},null,8,["options"])]),u("div",q,[o(e(m),{for:"areas"},{default:n(()=>[d("중량")]),_:1}),o(e(f),{id:"weights",options:e(i).weights,"options-style":"text",placeholder:"중량을 선택하세요",multiple:!1,onChange:a[3]||(a[3]=l=>{e(t).weight=l[0].value})},null,8,["options"])]),u("div",E,[o(e(m),{for:"areas"},{default:n(()=>[d("노면")]),_:1}),o(e(f),{id:"roadSurface",modelValue:e(t).roadSurface,"onUpdate:modelValue":a[4]||(a[4]=l=>e(t).roadSurface=l),options:e(i).roadSurfaces,"options-style":"text",placeholder:"노면을 선택하세요",multiple:!1,onChange:a[5]||(a[5]=l=>{e(t).roadSurface=l[0].value,e(i).showXcSplitSelect=l[0].text.indexOf("XC")===0})},null,8,["modelValue","options"])]),u("div",J,[o(e(s),{modelValue:e(t).testCount,"onUpdate:modelValue":a[6]||(a[6]=l=>e(t).testCount=l),type:"text",label:"횟수"},null,8,["modelValue"])]),S(u("div",K,[o(e(m),{for:"areas"},{default:n(()=>[d("차트 표시 Cell을 선택하세요")]),_:1}),o(e(f),{id:"roadSurface",options:e(i).chartCellNames,"options-style":"text",placeholder:"차트 표시 Cell을 선택",multiple:!1,onChange:a[7]||(a[7]=l=>{var p;e(t).chartCellName=(p=l[0])==null?void 0:p.value})},null,8,["options"])],512),[[C,e(i).chartCellNames.length>0]]),u("div",Y,[o(e(s),{modelValue:e(t).chartCellName,"onUpdate:modelValue":a[8]||(a[8]=l=>e(t).chartCellName=l),readonly:"",type:"text",label:"차트 표시 Cell"},null,8,["modelValue"])]),S(u("div",Z,[o(e(m),{for:"areas"},{default:n(()=>[d("파일 분리 지정값 선택")]),_:1}),o(e(f),{id:"roadSurface",options:e(i).xcSplitSelect,"options-style":"text",placeholder:"파일 분리 지정값을 선택 선택하세요",multiple:!1,onChange:a[9]||(a[9]=l=>{e(t).xcSplitRanges=l[0].value.split(",")})},null,8,["options"])],512),[[C,e(i).showXcSplitSelect]]),S(u("div",$,[o(e(s),{modelValue:e(t).xcSplitRanges[0],"onUpdate:modelValue":a[10]||(a[10]=l=>e(t).xcSplitRanges[0]=l),type:"text",label:"파일 분리 값1 "},null,8,["modelValue"]),o(e(s),{modelValue:e(t).xcSplitRanges[1],"onUpdate:modelValue":a[11]||(a[11]=l=>e(t).xcSplitRanges[1]=l),type:"text",label:"파일 분리 값 2"},null,8,["modelValue"]),o(e(s),{modelValue:e(t).xcSplitRanges[2],"onUpdate:modelValue":a[12]||(a[12]=l=>e(t).xcSplitRanges[2]=l),type:"text",label:"파일 분리 값 3"},null,8,["modelValue"]),o(e(s),{modelValue:e(t).xcSplitRanges[3],"onUpdate:modelValue":a[13]||(a[13]=l=>e(t).xcSplitRanges[3]=l),type:"text",label:"파일 분리 값 4"},null,8,["modelValue"]),o(e(s),{modelValue:e(t).xcSplitRanges[4],"onUpdate:modelValue":a[14]||(a[14]=l=>e(t).xcSplitRanges[4]=l),type:"text",label:"파일 분리 값 5"},null,8,["modelValue"]),o(e(s),{modelValue:e(t).xcSplitRanges[5],"onUpdate:modelValue":a[15]||(a[15]=l=>e(t).xcSplitRanges[5]=l),type:"text",label:"파일 분리 값 6"},null,8,["modelValue"]),o(e(s),{modelValue:e(t).xcSplitRanges[6],"onUpdate:modelValue":a[16]||(a[16]=l=>e(t).xcSplitRanges[6]=l),type:"text",label:"파일 분리 값 7"},null,8,["modelValue"]),o(e(s),{modelValue:e(t).xcSplitRanges[7],"onUpdate:modelValue":a[17]||(a[17]=l=>e(t).xcSplitRanges[7]=l),type:"text",label:"파일 분리 값 8"},null,8,["modelValue"]),o(e(s),{modelValue:e(t).xcSplitRanges[8],"onUpdate:modelValue":a[18]||(a[18]=l=>e(t).xcSplitRanges[8]=l),type:"text",label:"파일 분리 값 9"},null,8,["modelValue"]),o(e(s),{modelValue:e(t).xcSplitRanges[9],"onUpdate:modelValue":a[19]||(a[19]=l=>e(t).xcSplitRanges[9]=l),type:"text",label:"파일 분리 값 10"},null,8,["modelValue"]),o(e(s),{modelValue:e(t).xcSplitRanges[10],"onUpdate:modelValue":a[20]||(a[20]=l=>e(t).xcSplitRanges[10]=l),type:"text",label:"파일 분리 값 11"},null,8,["modelValue"])],512),[[C,e(i).showXcSplitSelect]]),u("div",ee,[o(e(s),{type:"file",label:"측정자료",onChange:a[21]||(a[21]=l=>T(l))})]),u("div",te,[o(e(H),{loading:e(t).loading,color:"primary",size:"sm",class:"me-md-2 col-3",disabled:!e(R),onClick:W},{default:n(()=>[d("등록")]),_:1},8,["loading","disabled"]),o(e(N),{size:"sm",class:"me-md-2 col-3",color:"secondary",onClick:V},{default:n(()=>[d("목록")]),_:1})])]),_:1})]),_:1})]),_:1}))}});export{ae as default};
